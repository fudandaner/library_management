{% extends "layout1.html" %}
{% block content %}
    <div class="container">
        <div class="panel panel-default">
            <div class="panel-heading">
                <h3 class="panel-title">图书查找</h3>
            </div>
            <div class="panel-body">
                <form method="post">
                    {% csrf_token %}


                    <div class="form-group">
                        <label>书名</label>
                        <input type="text" class="form-control" placeholder="书名" name="Title"/>
                    </div>

                    <div class="form-group">
                        <label>作者</label>
                        <input type="text" class="form-control" placeholder="作者" name="Author"/>
                    </div>

                    <div class="form-group">
                        <label>出版社</label>
                        <input type="text" class="form-control" placeholder="出版社" name="Publisher"/>
                    </div>

                    <div class="form-group">
                        <label>出版时间</label>
                        <input type="date" class="form-control" placeholder="出版时间" name="PublishDate"/>
                    </div>

                    <div class="form-group">
                        <label>ISBN</label>
                        <input type="text" class="form-control" placeholder="ISBN" name="ISBN"/>
                    </div>
                    <div class="form-group">
                        <label>价格</label>
                        <input type="text" class="form-control" placeholder="价格" name="Price"/>
                    </div>

                    <button type="submit" class="btn btn-primary" onclick="return validateForm()" >提交</button>
                </form>
            </div>
        </div>
    </div>
   <script>
        function validateForm() {
            var title = document.getElementsByName("Title")[0].value;
            var author = document.getElementsByName("Author")[0].value;
            var publisher = document.getElementsByName("Publisher")[0].value;
            var publishDate = document.getElementsByName("PublishDate")[0].value;
            var isbn = document.getElementsByName("ISBN")[0].value;
            var price = document.getElementsByName("Price")[0].value;

            if (!title && !author && !publisher && !publishDate && !isbn && !price) {
                alert("请至少输入一个查询条件");
                return false
            }
            var pricePattern = /^\d+(\.\d+)?$/;
            if ( !price ){
                return true
            }
            if (!pricePattern.test(price)) {
                alert('价格必须合法');
                return false;
            }
        }
    </script>
{% endblock %}